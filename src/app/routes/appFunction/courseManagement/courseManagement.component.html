<page-header [title]="'课程管理'">
  管理员可增加课程
</page-header>
<nz-card [nzBordered]="false">
  <form nz-form [formGroup]="form" >
      <nz-form-item>
        <nz-form-label nzXs="24" nzSm="7" nzRequired nzFor="courseName">课程名</nz-form-label>
        <nz-form-control nzXs="24" nzSm="12" nzMd="10">
          <input nz-input formControlName="courseName" id="courseName" [(ngModel)]="AddCourseList.courseName" placeholder="请输入课程名">
          <nz-form-explain *ngIf="form.get('courseName').dirty && form.get('courseName').errors">请输入课程名</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-label nzXs="24" nzSm="7" nzRequired nzFor="courseID">课程号</nz-form-label>
        <nz-form-control nzXs="24" nzSm="12" nzMd="10">
          <input nz-input formControlName="courseID" id="courseID" [(ngModel)]="AddCourseList.courseID" placeholder="请输入课程号">
          <nz-form-explain *ngIf="form.get('courseID').dirty && form.get('courseID').errors">请输入课程号</nz-form-explain>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
          <nz-form-label nzXs="24" nzSm="7" nzRequired nzFor="courseTime">学时</nz-form-label>
          <nz-form-control nzXs="24" nzSm="12" nzMd="10">
            <input nz-input formControlName="courseTime" id="courseTime" [(ngModel)]="AddCourseList.courseTime" placeholder="请输入学时">
            <nz-form-explain *ngIf="form.get('courseTime').dirty && form.get('courseTime').errors">请输入学时</nz-form-explain>
          </nz-form-control>
       </nz-form-item>

   <!--<nz-form-item>-->
    <!--<nz-form-label nzFor="school" nzXs="8" nzSm="7"  >学校</nz-form-label>-->
    <!--<nz-form-control nzXs="8" nzSm="12" nzMd="10">-->
      <!--<nz-select  name="school" id="school"  [nzPlaceHolder]="'请选择'" [nzShowSearch]="true">-->
        <!--<nz-option *ngFor="let i of school; let idx = index" [nzLabel]="i.text" [nzValue]="idx"></nz-option>-->
      <!--</nz-select>-->
    <!--</nz-form-control>-->
  <!--</nz-form-item>-->
    <!--<nz-form-item>-->
      <!--<nz-form-label nzFor="college" nzXs="8" nzSm="7">学院</nz-form-label>-->
      <!--<nz-form-control nzXs="8" nzSm="12" nzMd="10">-->
        <!--<nz-select  name="college" id="college" [nzPlaceHolder]="'请选择'" [nzShowSearch]="true">-->
          <!--<nz-option *ngFor="let i of college; let idx = index" [nzLabel]="i.text" [nzValue]="idx"></nz-option>-->
        <!--</nz-select>-->
      <!--</nz-form-control>-->
    <!--</nz-form-item>-->
    <!--<nz-form-item>-->
      <!--<nz-form-label nzFor="profession" nzXs="8" nzSm="7"  >专业</nz-form-label>-->
      <!--<nz-form-control nzXs="8" nzSm="12" nzMd="10">-->
        <!--<nz-select  name="profession" id="profession" [nzPlaceHolder]="'请选择'" [nzShowSearch]="true">-->
          <!--<nz-option *ngFor="let i of profession; let idx = index" [nzLabel]="i.text" [nzValue]="idx"></nz-option>-->
        <!--</nz-select>-->
      <!--</nz-form-control>-->
    <!--</nz-form-item>-->

    <!--<nz-form-item>-->
      <!--<nz-form-label nzSpan="5" nzRequired>学校</nz-form-label>-->
      <!--<nz-form-control [nzSpan]="19">-->
        <!--<nz-select formControlName="select_school" [(ngModel)]="select_school">-->
          <!--&lt;!&ndash;[nzLabel]表示显示的内容，[nzValue]表示获取的内容&ndash;&gt;-->
          <!--<nz-option [nzLabel]="data.unit "-->
                     <!--[nzValue]="data.id"-->
                     <!--*ngFor="let data of select_school"></nz-option>-->
        <!--</nz-select>-->
        <!--<ng-template #suffixButton>-->
          <!--<button nz-button nzType="primary" nzSearch [nzLoading]="loading" (click)="getSchool()">选择学校</button>-->
        <!--</ng-template>-->
      <!--</nz-form-control>-->
      <!--&lt;!&ndash;<nz-form-label nzSpan="5" nzRequired nzFor="course_address">上课教室</nz-form-label>&ndash;&gt;-->
      <!--&lt;!&ndash;<nz-form-control nzSpan="19">&ndash;&gt;-->
      <!--&lt;!&ndash;<input nz-input formControlName="course_address" id="course_address">&ndash;&gt;-->
      <!--&lt;!&ndash;</nz-form-control>&ndash;&gt;-->
    <!--</nz-form-item>-->
    <nz-form-item>
      <nz-form-label nzSpan="5" nzRequired nzFor="school">学校</nz-form-label>
      <nz-form-control nzSpan="19">
        <!--<input nz-input formControlName="course_name" id="course_name" readonly="readonly">-->
        <nz-input-group nzSearch [nzSuffix]="suffixButton">
          <input nz-input formControlName="school" id="school" readonly="readonly" type="text" nz-input placeholder="选择学校/学院/专业">
        </nz-input-group>
        <ng-template #suffixButton>
          <button nz-button nzType="primary" nzSearch [nzLoading]="loading" (click)="getSchool()">选择学校/学院/专业</button>
        </ng-template>
        <!--<ng-container *ngIf="receiver_name.dirty || receiver_name.touched">-->
        <!--<nz-form-explain *ngIf="receiver_name.errors?.required">请输入收款姓名</nz-form-explain>-->
        <!--<nz-form-explain *ngIf="receiver_name.errors?.minlength">至少2个字符以上</nz-form-explain>-->
        <!--</ng-container>-->
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-control [nzXs]="{ span: 24, offset: 0 }" [nzSm]="{ span: 10, offset: 7 }">
        <button nz-button [nzType]="'primary'" [nzLoading]="loading" (click)="addCourse()">提交</button>
      </nz-form-control>
    </nz-form-item>
  </form>
</nz-card>

<nz-modal [(nzVisible)]="isVisible" nzTitle="学校" (nzOnCancel)="handleCancel()">
  <nz-table #basicTable [nzData]="schoolList">
    <thead>
    <tr>
      <th>学校/学院/专业</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let data of basicTable.data" (click)="chooseSchool(data)" style="cursor: pointer">
      <td >{{'-'.repeat(data.level)}}{{data.title}}</td>
    </tr>
    </tbody>
  </nz-table>
</nz-modal>
